(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return kt}));var r=n(1),a=n.n(r),c=n(36),i=n.n(c),s=(n(137),n(13)),o=n(99),d=n(255),u=n(244),l=n(260),j=n(15),b=n(66),h=n(261),p=n(262),x=n(263),O=n(249),g=n(266),f=n(267),m=n(251),v=n(268),y=n(29),k=n.n(y),C=n(44),I=n(49),w=n.n(I),S=n(73),P=function e(t,n){Object(S.a)(this,e),this.items=void 0,this.metaData=void 0,this.items=t,this.metaData=n};w.a.defaults.baseURL="/api/",w.a.defaults.withCredentials=!0;var E=function(e){return e.data};w.a.interceptors.response.use(function(){var e=Object(C.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=3;break;case 3:if(!(n=t.headers.pagination)){e.next=8;break}return t.data=new P(t.data,JSON.parse(n)),console.log(t),e.abrupt("return",t);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data;switch(t.status){case 400:if(n.errors){var r=[];for(var a in n.errors)n.errors[a]&&r.push(n.errors[a]);throw r.flat()}b.b.error(n.title);break;case 401:b.b.error(n.title);break;case 500:kt.push({pathname:"/server-error",state:{error:n}})}return Promise.reject(e.response)}));var B=function(e,t){return w.a.get(e,{params:t}).then(E)},T=function(e,t){return w.a.post(e,t).then(E)},q=function(e){return w.a.delete(e).then(E)},F={get:function(){return B("basket")},addItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return T("basket?productId=".concat(e,"&quantity=").concat(t),{})},removeItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return q("basket?productId=".concat(e,"&quantity=").concat(t))}},L={Catalog:{list:function(e){return B("products",e)},details:function(e){return B("products/".concat(e))},fetchFilters:function(){return B("products/filters")}},TestErrors:{get400Error:function(){return B("buggy/bad-request")},get401Error:function(){return B("buggy/unauthorised")},get404Error:function(){return B("buggy/not-found")},get500Error:function(){return B("buggy/server-error")},getValidationError:function(){return B("buggy/validation-error")}},Basket:F},D=n(0);function A(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(D.jsxs)(l.a,{children:[Object(D.jsx)(h.a,{gutterBottom:!0,variant:"h2",children:"Errors for testing purposes"}),Object(D.jsxs)(p.a,{fullWidth:!0,children:[Object(D.jsx)(x.a,{variant:"contained",onClick:function(){return L.TestErrors.get400Error().catch((function(e){return console.log(e)}))},children:"Test 400 Error"}),Object(D.jsx)(x.a,{variant:"contained",onClick:function(){return L.TestErrors.get401Error().catch((function(e){return console.log(e)}))},children:"Test 401 Error"}),Object(D.jsx)(x.a,{variant:"contained",onClick:function(){return L.TestErrors.get404Error().catch((function(e){return console.log(e)}))},children:"Test 404 Error"}),Object(D.jsx)(x.a,{variant:"contained",onClick:function(){return L.TestErrors.get500Error().catch((function(e){return console.log(e)}))},children:"Test 500 Error"}),Object(D.jsx)(x.a,{variant:"contained",onClick:function(){L.TestErrors.getValidationError().then((function(){return console.log("should not see this")})).catch((function(e){return a(e)}))},children:"Test Validation Error"})]}),n.length>0&&Object(D.jsxs)(O.a,{severity:"error",children:[Object(D.jsx)(g.a,{children:"Validation Errors"}),Object(D.jsx)(f.a,{children:n.map((function(e){return Object(D.jsx)(m.a,{children:Object(D.jsx)(v.a,{children:e})},e)}))})]})]})}var W=n(258),z=n(264),V=n(236),N=n(247);function R(e){var t=e.metaData,n=e.onPageChange,r=t.currentPage,a=t.totalCount,c=t.totalPages,i=t.pageSize;return Object(D.jsxs)(V.a,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[Object(D.jsxs)(h.a,{children:["Displaying ",(r-1)*i+1,"-",r*i>a?a:r*i," ","of ",a," items"]}),Object(D.jsx)(N.a,{color:"secondary",size:"large",count:c,page:r,onChange:function(e,t){return n(t)}})]})}var U=n(14),M=n(198),$=n(269),H=n(252);function Q(e){var t=e.items,n=e.checked,a=e.onChange,c=Object(r.useState)(n||[]),i=Object(s.a)(c,2),o=i[0],d=i[1];return Object(D.jsx)(M.a,{children:t.map((function(e){return Object(D.jsx)($.a,{control:Object(D.jsx)(H.a,{checked:-1!==o.indexOf(e),onClick:function(){return function(e){var t=[];t=-1===o.findIndex((function(t){return t===e}))?[].concat(Object(U.a)(o),[e]):o.filter((function(t){return t!==e})),d(t),a(t)}(e)}}),label:e},e)}))})}var G=n(270),J=n(237),Y=n(250);function X(e){var t=e.options,n=e.onChange,r=e.selectedValue;return Object(D.jsx)(G.a,{children:Object(D.jsx)(J.a,{onChange:n,value:r,children:t.map((function(e){var t=e.value,n=e.label;return Object(D.jsx)($.a,{value:t,control:Object(D.jsx)(Y.a,{}),label:n},t)}))})})}var K=n(256),Z=n(271),_=n(239);function ee(e){var t=e.message,n=void 0===t?"Loading...":t;return Object(D.jsx)(K.a,{open:!0,invisible:!0,children:Object(D.jsxs)(_.a,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:[Object(D.jsx)(Z.a,{size:100,color:"secondary"}),Object(D.jsx)(h.a,{variant:"h4",sx:{justifyContent:"center",position:"fixed",top:"60%"},children:n})]})})}var te=n(32),ne=n(67),re=Object(te.b)("basket/addBasketItemAsync",function(){var e=Object(C.a)(k.a.mark((function e(t,n){var r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,c=void 0===a?1:a,e.prev=1,e.next=4,L.Basket.addItem(r,c);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),ae=Object(te.b)("basket/removeBasketItemAsync",function(){var e=Object(C.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.productId,a=t.quantity,e.prev=1,e.next=4,L.Basket.removeItem(r,a);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()),ce=Object(te.d)({name:"basket",initialState:{basket:null,status:"idle"},reducers:{setBasket:function(e,t){e.basket=t.payload}},extraReducers:function(e){e.addCase(re.pending,(function(e,t){console.log(t),e.status="pendingAddItem"+t.meta.arg.productId})),e.addCase(re.fulfilled,(function(e,t){e.basket=t.payload,e.status="idle"})),e.addCase(re.rejected,(function(e,t){e.status="idle",console.log(t.payload)})),e.addCase(ae.pending,(function(e,t){e.status="pendingRemoveItem"+t.meta.arg.productId+t.meta.arg.name})),e.addCase(ae.fulfilled,(function(e,t){var n,r,a=t.meta.arg,c=a.productId,i=a.quantity,s=null===(n=e.basket)||void 0===n?void 0:n.items.findIndex((function(e){return e.productId===c}));-1!==s&&void 0!==s&&(e.basket.items[s].quantity-=i,0===(null===(r=e.basket)||void 0===r?void 0:r.items[s].quantity)&&e.basket.items.splice(s,1),e.status="idle")})),e.addCase(ae.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),ie=ce.actions.setBasket,se=n(38),oe=Object(te.c)();function de(e){var t=new URLSearchParams;return t.append("pageNumber",e.pageNumber.toString()),t.append("pageSize",e.pageSize.toString()),t.append("orderBy",e.orderBy),e.searchTerm&&t.append("searchTerm",e.searchTerm),e.brands.length>0&&t.append("brands",e.brands.toString()),e.types.length>0&&t.append("types",e.types.toString()),t}var ue=Object(te.b)("catalog/fetchProductsAsync",function(){var e=Object(C.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=de(n.getState().catalog.productParams),e.prev=1,e.next=4,L.Catalog.list(r);case 4:return a=e.sent,n.dispatch(Oe(a.metaData)),e.abrupt("return",a.items);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),le=Object(te.b)("catalog/fetchProductAsync",function(){var e=Object(C.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.Catalog.details(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()),je=Object(te.b)("catalog/fetchFilters",function(){var e=Object(C.a)(k.a.mark((function e(t,n){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",L.Catalog.fetchFilters());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue({error:e.t0.data}));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t,n){return e.apply(this,arguments)}}());var be=Object(te.d)({name:"catalog",initialState:oe.getInitialState({productsLoaded:!1,filtersLoaded:!1,status:"idle",brands:[],types:[],productParams:{pageNumber:1,pageSize:6,orderBy:"name",brands:[],types:[]},metaData:null}),reducers:{setProductParams:function(e,t){e.productsLoaded=!1,e.productParams=Object(se.a)(Object(se.a)(Object(se.a)({},e.productParams),t.payload),{},{pageNumber:1})},setPageNumber:function(e,t){e.productsLoaded=!1,e.productParams=Object(se.a)(Object(se.a)({},e.productParams),t.payload)},setMetaData:function(e,t){e.metaData=t.payload},resetProductParams:function(e){e.productParams={pageNumber:1,pageSize:6,orderBy:"name",brands:[],types:[]}}},extraReducers:function(e){e.addCase(ue.pending,(function(e){e.status="pendingFetchProducts"})),e.addCase(ue.fulfilled,(function(e,t){oe.setAll(e,t.payload),e.status="idle",e.productsLoaded=!0})),e.addCase(ue.rejected,(function(e,t){console.log(t.payload),e.status="idle"})),e.addCase(le.pending,(function(e){e.status="pendingFetchProduct"})),e.addCase(le.fulfilled,(function(e,t){oe.upsertOne(e,t.payload),e.status="idle"})),e.addCase(le.rejected,(function(e,t){console.log(t),e.status="idle"})),e.addCase(je.pending,(function(e){e.status="pendingFetchFilters"})),e.addCase(je.fulfilled,(function(e,t){e.brands=t.payload.brands,e.types=t.payload.types,e.filtersLoaded=!0,e.status="idle"})),e.addCase(je.rejected,(function(e,t){e.status="idle",console.log(t.payload)}))}}),he=oe.getSelectors((function(e){return e.catalog})),pe=be.actions,xe=pe.setProductParams,Oe=(pe.resetProductParams,pe.setMetaData),ge=pe.setPageNumber,fe=Object(te.d)({name:"counter",initialState:{data:42,title:"YARC (yet another redux counter with redux toolkit)"},reducers:{increment:function(e,t){e.data+=t.payload},decrement:function(e,t){e.data-=t.payload}}}),me=fe.actions,ve=me.increment,ye=me.decrement,ke=Object(te.a)({reducer:{counter:fe.reducer,basket:ce.reducer,catalog:be.reducer}}),Ce=function(){return Object(ne.b)()},Ie=ne.c,we=n(254),Se=n(272),Pe=n(273),Ee=n(257),Be=n(274),Te=n(275),qe=n(276),Fe=n(37);function Le(e){return"$"+(e/100).toFixed(2)}function De(e){var t=e.product,n=Ie((function(e){return e.basket})).status,r=Ce();return Object(D.jsxs)(Se.a,{children:[Object(D.jsx)(Pe.a,{avatar:Object(D.jsx)(Ee.a,{sx:{bgcolor:"secondary.main"},children:t.name.charAt(0).toUpperCase()}),title:t.name,titleTypographyProps:{sx:{fontWeight:"bold",color:"primary.main"}}}),Object(D.jsx)(Be.a,{sx:{height:140,backgroundSize:"contain",bgcolor:"primary.light"},image:t.pictureUrl,title:t.name}),Object(D.jsxs)(Te.a,{children:[Object(D.jsx)(h.a,{gutterBottom:!0,color:"secondary",variant:"h5",children:Le(t.price)}),Object(D.jsxs)(h.a,{variant:"body2",color:"text.secondary",children:[t.brand," / ",t.type]})]}),Object(D.jsxs)(qe.a,{children:[Object(D.jsx)(we.a,{loading:n.includes("pendingAddItem"+t.id),onClick:function(){return r(re({productId:t.id}))},size:"small",children:"Add to cart"}),Object(D.jsx)(x.a,{component:Fe.a,to:"/catalog/".concat(t.id),size:"small",children:"View"})]})]})}var Ae=n(259);function We(){return Object(D.jsxs)(W.a,{item:!0,xs:!0,component:Se.a,children:[Object(D.jsx)(Pe.a,{avatar:Object(D.jsx)(Ae.a,{animation:"wave",variant:"circular",width:40,height:40}),title:Object(D.jsx)(Ae.a,{animation:"wave",height:10,width:"80%",style:{marginBottom:6}})}),Object(D.jsx)(Ae.a,{sx:{height:190},animation:"wave",variant:"rectangular"}),Object(D.jsx)(Te.a,{children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Ae.a,{animation:"wave",height:10,style:{marginBottom:6}}),Object(D.jsx)(Ae.a,{animation:"wave",height:10,width:"80%"})]})}),Object(D.jsx)(qe.a,{children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(Ae.a,{animation:"wave",height:10,width:"40%"}),Object(D.jsx)(Ae.a,{animation:"wave",height:10,width:"20%"})]})})]})}function ze(e){var t=e.products,n=Ie((function(e){return e.catalog})).productsLoaded;return Object(D.jsx)(W.a,{container:!0,spacing:4,children:t.map((function(e){return Object(D.jsx)(W.a,{item:!0,xs:4,children:n?Object(D.jsx)(De,{product:e}):Object(D.jsx)(We,{})},e.id)}))})}var Ve=n(121),Ne=n(245);function Re(){var e=Ie((function(e){return e.catalog})).productParams,t=Object(r.useState)(e.searchTerm),n=Object(s.a)(t,2),a=n[0],c=n[1],i=Ce(),o=Object(Ve.a)((function(e){i(xe({searchTerm:e.target.value}))}),1e3);return Object(D.jsx)(Ne.a,{label:"Search products",variant:"outlined",fullWidth:!0,value:a||"",onChange:function(e){c(e.target.value),o(e)}})}var Ue=[{value:"name",label:"Alphabetical"},{value:"priceDesc",label:"Price - High to low"},{value:"price",label:"Price - Low to high"}];function Me(){var e=Ie(he.selectAll),t=Ie((function(e){return e.catalog})),n=t.productsLoaded,a=t.filtersLoaded,c=t.brands,i=t.types,s=t.productParams,o=t.metaData,d=Ce();return Object(r.useEffect)((function(){n||d(ue())}),[n,d]),Object(r.useEffect)((function(){a||d(je())}),[d,a]),a?Object(D.jsxs)(W.a,{container:!0,spacing:4,children:[Object(D.jsxs)(W.a,{item:!0,xs:3,children:[Object(D.jsx)(z.a,{sx:{mb:2},children:Object(D.jsx)(Re,{})}),Object(D.jsx)(z.a,{sx:{mb:2,p:2},children:Object(D.jsx)(X,{selectedValue:s.orderBy,options:Ue,onChange:function(e){return d(xe({orderBy:e.target.value}))}})}),Object(D.jsx)(z.a,{sx:{mb:2,p:2},children:Object(D.jsx)(Q,{items:c,checked:s.brands,onChange:function(e){return d(xe({brands:e}))}})}),Object(D.jsx)(z.a,{sx:{mb:2,p:2},children:Object(D.jsx)(Q,{items:i,checked:s.types,onChange:function(e){return d(xe({types:e}))}})})]}),Object(D.jsx)(W.a,{item:!0,xs:9,children:Object(D.jsx)(ze,{products:e})}),Object(D.jsx)(W.a,{item:!0,xs:3}),Object(D.jsx)(W.a,{item:!0,xs:9,sx:{mb:2},children:o&&Object(D.jsx)(R,{metaData:o,onPageChange:function(e){return d(ge({pageNumber:e}))}})})]}):Object(D.jsx)(ee,{message:"Loading products..."})}var $e=n(277),He=n(278),Qe=n(279),Ge=n(280),Je=n(281),Ye=n(282);function Xe(){return Object(D.jsxs)(l.a,{component:z.a,sx:{height:400},children:[Object(D.jsx)(h.a,{gutterBottom:!0,variant:"h3",children:"Oops - we could not find what you are looking for"}),Object(D.jsx)($e.a,{}),Object(D.jsx)(x.a,{fullWidth:!0,component:Fe.a,to:"/catalog",children:"Go back to shop"})]})}function Ke(){var e=Ie((function(e){return e.basket})),t=e.basket,n=e.status,a=Ce(),c=Object(j.h)().id,i=Ie((function(e){return he.selectById(e,c)})),o=Ie((function(e){return e.catalog})).status,d=Object(r.useState)(0),u=Object(s.a)(d,2),l=u[0],b=u[1],p=null===t||void 0===t?void 0:t.items.find((function(e){return e.productId===(null===i||void 0===i?void 0:i.id)}));return Object(r.useEffect)((function(){p&&b(p.quantity),i||a(le(parseInt(c)))}),[c,p,a,i]),o.includes("pending")?Object(D.jsx)(ee,{message:"Loading product..."}):i?Object(D.jsxs)(W.a,{container:!0,spacing:6,children:[Object(D.jsx)(W.a,{item:!0,xs:6,children:Object(D.jsx)("img",{src:i.pictureUrl,alt:i.name,style:{width:"100%"}})}),Object(D.jsxs)(W.a,{item:!0,xs:6,children:[Object(D.jsx)(h.a,{variant:"h3",children:i.name}),Object(D.jsx)($e.a,{sx:{mb:2}}),Object(D.jsxs)(h.a,{variant:"h4",color:"secondary",children:["$",(i.price/100).toFixed(2)]}),Object(D.jsx)(He.a,{children:Object(D.jsx)(Qe.a,{children:Object(D.jsxs)(Ge.a,{children:[Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{children:"Name"}),Object(D.jsx)(Ye.a,{children:i.name})]}),Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{children:"Description"}),Object(D.jsx)(Ye.a,{children:i.description})]}),Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{children:"Type"}),Object(D.jsx)(Ye.a,{children:i.type})]}),Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{children:"Brand"}),Object(D.jsx)(Ye.a,{children:i.brand})]}),Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{children:"Quantity in stock"}),Object(D.jsx)(Ye.a,{children:i.quantityInStock})]})]})})}),Object(D.jsxs)(W.a,{container:!0,spacing:2,children:[Object(D.jsx)(W.a,{item:!0,xs:6,children:Object(D.jsx)(Ne.a,{onChange:function(e){e.target.value>=0&&b(parseInt(e.target.value))},variant:"outlined",type:"number",label:"Quantity in Cart",fullWidth:!0,value:l})}),Object(D.jsx)(W.a,{item:!0,xs:6,children:Object(D.jsx)(we.a,{disabled:(null===p||void 0===p?void 0:p.quantity)===l||!p&&0===l,loading:n.includes("pending"),onClick:function(){if(!p||l>p.quantity){var e=p?l-p.quantity:l;a(re({productId:null===i||void 0===i?void 0:i.id,quantity:e}))}else{var t=p.quantity-l;a(ae({productId:null===i||void 0===i?void 0:i.id,quantity:t}))}},sx:{height:"55px"},color:"primary",size:"large",variant:"contained",fullWidth:!0,children:p?"Update Quantity":"Add to Cart"})})]})]})]}):Object(D.jsx)(Xe,{})}function Ze(){var e=Ce(),t=Ie((function(e){return e.counter})),n=t.data,r=t.title;return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(h.a,{variant:"h2",children:r}),Object(D.jsxs)(h.a,{variant:"h5",children:["The data is: ",n]}),Object(D.jsxs)(p.a,{children:[Object(D.jsx)(x.a,{onClick:function(){return e(ye(1))},variant:"contained",color:"error",children:"Decrement"}),Object(D.jsx)(x.a,{onClick:function(){return e(ve(1))},variant:"contained",color:"primary",children:"Increment"})]})]})}var _e=n(122),et=n.n(_e);function tt(){return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)(et.a,Object(se.a)(Object(se.a)({},{dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:[Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:"/images/hero1.jpg",alt:"hero1",style:{display:"block",width:"100%",maxHeight:500}})}),Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:"/images/hero2.jpg",alt:"hero2",style:{display:"block",width:"100%",maxHeight:500}})}),Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:"/images/hero3.jpg",alt:"hero3",style:{display:"block",width:"100%",maxHeight:500}})})]})),Object(D.jsx)(V.a,{display:"flex",justifyContent:"center",sx:{p:4},children:Object(D.jsx)(h.a,{variant:"h1",children:"Welcome to the shop!"})})]})}var nt=n(240),rt=n(283),at=n(284),ct=n(285),it=n(265),st=n(248),ot=[{title:"catalog",path:"/catalog"},{title:"about",path:"/about"},{title:"contact",path:"/contact"}],dt=[{title:"login",path:"/login"},{title:"register",path:"/register"}],ut={color:"inherit",textDecoration:"none",typography:"h6","&:hover":{color:"grey.500"},"&.active":{color:"text.secondary"}};function lt(e){var t=e.darkMode,n=e.handleThemeChange,r=Ie((function(e){return e.basket})).basket,a=null===r||void 0===r?void 0:r.items.reduce((function(e,t){return e+t.quantity}),0);return Object(D.jsx)(rt.a,{position:"static",children:Object(D.jsxs)(at.a,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(D.jsxs)(V.a,{display:"flex",alignItems:"center",children:[Object(D.jsx)(h.a,{variant:"h6",component:Fe.b,exact:!0,to:"/",sx:ut,children:"VORTEX SNOWGEAR"}),Object(D.jsx)(ct.a,{checked:t,onChange:n})]}),Object(D.jsx)(f.a,{sx:{display:"flex"},children:ot.map((function(e){var t=e.title,n=e.path;return Object(D.jsx)(m.a,{component:Fe.b,to:n,sx:ut,children:t.toUpperCase()},n)}))}),Object(D.jsxs)(V.a,{display:"flex",alignItems:"center",children:[Object(D.jsx)(it.a,{component:Fe.a,to:"/basket",size:"large",sx:{color:"inherit"},children:Object(D.jsx)(st.a,{badgeContent:a,color:"secondary",children:Object(D.jsx)(nt.a,{})})}),Object(D.jsx)(f.a,{sx:{display:"flex"},children:dt.map((function(e){var t=e.title,n=e.path;return Object(D.jsx)(m.a,{component:Fe.b,to:n,sx:ut,children:t.toUpperCase()},n)}))})]})]})})}n(185);function jt(){var e=Object(j.f)(),t=Object(j.g)().state;return Object(D.jsxs)(l.a,{component:z.a,children:[(null===t||void 0===t?void 0:t.error)?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(h.a,{variant:"h3",color:"error",gutterBottom:!0,children:t.error.title}),Object(D.jsx)($e.a,{}),Object(D.jsx)(h.a,{children:t.error.detail||"Internal server error"})]}):Object(D.jsx)(h.a,{variant:"h5",gutterBottom:!0,children:"Server Error"}),Object(D.jsx)(x.a,{onClick:function(){return e.push("/catalog")},children:"Go back to the store"})]})}var bt=n(241),ht=n(242),pt=n(243),xt=n(286);function Ot(){var e,t=Ie((function(e){return e.basket})).basket,n=null!==(e=null===t||void 0===t?void 0:t.items.reduce((function(e,t){return e+t.quantity*t.price}),0))&&void 0!==e?e:0,r=n>1e4?0:500;return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(He.a,{component:z.a,variant:"outlined",children:Object(D.jsx)(Qe.a,{children:Object(D.jsxs)(Ge.a,{children:[Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{colSpan:2,children:"Subtotal"}),Object(D.jsx)(Ye.a,{align:"right",children:Le(n)})]}),Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{colSpan:2,children:"Delivery fee*"}),Object(D.jsx)(Ye.a,{align:"right",children:Le(r)})]}),Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{colSpan:2,children:"Total"}),Object(D.jsx)(Ye.a,{align:"right",children:Le(n+r)})]}),Object(D.jsx)(Je.a,{children:Object(D.jsx)(Ye.a,{children:Object(D.jsx)("span",{style:{fontStyle:"italic"},children:"*Orders over $100 qualify for free delivery"})})})]})})})})}function gt(){var e=Ie((function(e){return e.basket})),t=e.basket,n=e.status,r=Ce();return t?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(He.a,{component:z.a,children:Object(D.jsxs)(Qe.a,{sx:{minWidth:650},children:[Object(D.jsx)(xt.a,{children:Object(D.jsxs)(Je.a,{children:[Object(D.jsx)(Ye.a,{children:"Product"}),Object(D.jsx)(Ye.a,{align:"right",children:"Price"}),Object(D.jsx)(Ye.a,{align:"center",children:"Quantity"}),Object(D.jsx)(Ye.a,{align:"right",children:"Subtotal"}),Object(D.jsx)(Ye.a,{align:"right"})]})}),Object(D.jsx)(Ge.a,{children:t.items.map((function(e){return Object(D.jsxs)(Je.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(D.jsx)(Ye.a,{component:"th",scope:"row",children:Object(D.jsxs)(V.a,{display:"flex",alignItems:"center",children:[Object(D.jsx)("img",{src:e.pictureUrl,alt:e.name,style:{height:50,marginRight:20}}),Object(D.jsx)("span",{children:e.name})]})}),Object(D.jsxs)(Ye.a,{align:"right",children:["$",(e.price/100).toFixed(2)]}),Object(D.jsxs)(Ye.a,{align:"center",children:[Object(D.jsx)(we.a,{loading:n==="pendingRemoveItem"+e.productId+"rem",onClick:function(){return r(ae({productId:e.productId,quantity:1,name:"rem"}))},color:"error",children:Object(D.jsx)(bt.a,{})}),e.quantity,Object(D.jsx)(we.a,{loading:n==="pendingAddItem"+e.productId,onClick:function(){return r(re({productId:e.productId}))},color:"secondary",children:Object(D.jsx)(ht.a,{})})]}),Object(D.jsxs)(Ye.a,{align:"right",children:["$",(e.price/100*e.quantity).toFixed(2)]}),Object(D.jsx)(Ye.a,{align:"right",children:Object(D.jsx)(we.a,{loading:n==="pendingRemoveItem"+e.productId+"del",onClick:function(){return r(ae({productId:e.productId,quantity:e.quantity,name:"del"}))},color:"error",children:Object(D.jsx)(pt.a,{})})})]},e.productId)}))})]})}),Object(D.jsxs)(W.a,{container:!0,children:[Object(D.jsx)(W.a,{item:!0,xs:6}),Object(D.jsxs)(W.a,{item:!0,xs:6,children:[Object(D.jsx)(Ot,{}),Object(D.jsx)(x.a,{component:Fe.a,to:"/checkout",variant:"contained",size:"large",fullWidth:!0,children:"Checkout"})]})]})]}):Object(D.jsx)(h.a,{variant:"h3",children:"Your Basket is empty"})}function ft(){return Object(D.jsx)(h.a,{variant:"h3",children:"Only Logged in users should be able to see this!"})}var mt=function(){var e=Ce(),t=Object(r.useState)(!0),n=Object(s.a)(t,2),a=n[0],c=n[1];Object(r.useEffect)((function(){(function(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():""})("buyerId")?L.Basket.get().then((function(t){return e(ie(t))})).catch((function(e){return console.log(e)})).finally((function(){return c(!1)})):c(!1)}),[e]);var i=Object(r.useState)(!1),h=Object(s.a)(i,2),p=h[0],x=h[1],O=p?"dark":"light",g=Object(o.a)({palette:{mode:O,background:{default:"light"===O?"#eaeaea":"#121212"}}});return a?Object(D.jsx)(ee,{message:"Initializing App..."}):Object(D.jsxs)(d.a,{theme:g,children:[Object(D.jsx)(b.a,{position:"bottom-right",hideProgressBar:!0,theme:"colored"}),Object(D.jsx)(u.a,{}),Object(D.jsx)(lt,{darkMode:p,handleThemeChange:function(){x(!p)}}),Object(D.jsx)(j.a,{exact:!0,path:"/",component:tt}),Object(D.jsx)(j.a,{path:"/(.+)",render:function(){return Object(D.jsx)(l.a,{sx:{mt:4},children:Object(D.jsxs)(j.c,{children:[Object(D.jsx)(j.a,{exact:!0,path:"/catalog",component:Me}),Object(D.jsx)(j.a,{path:"/catalog/:id",component:Ke}),Object(D.jsx)(j.a,{path:"/about",component:A}),Object(D.jsx)(j.a,{path:"/contact",component:Ze}),Object(D.jsx)(j.a,{path:"/server-error",component:jt}),Object(D.jsx)(j.a,{path:"/basket",component:gt}),Object(D.jsx)(j.a,{path:"/checkout",component:ft}),Object(D.jsx)(j.a,{component:Xe})]})})}})]})},vt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,288)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},yt=n(27),kt=(n(186),n(187),Object(yt.a)());i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(j.b,{history:kt,children:Object(D.jsx)(ne.a,{store:ke,children:Object(D.jsx)(mt,{})})})}),document.getElementById("root")),vt()}},[[188,1,2]]]);
//# sourceMappingURL=main.1f9314ab.chunk.js.map